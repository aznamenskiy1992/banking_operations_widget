# Виджет банковских операций

## Цель проекта:
- Виджет может использоваться для банковских сервисов
- Он показывает несколько последних успешных операций клиента.

## Установка
1. Убедитесь, то у вас установлен Poetry. Если нет:
```
pip install --user poetry
```
2. Создайте виртуальное окружение
```
poetry install
```
3. Клонируйте репозиторий
```
git clone https://github.com/aznamenskiy1992/banking_operations_widget.git
```

## Работа с функциями
### get_mask_card_number (masks.py)
- Маскирует номер карты
- Принимает 16-ти значный номер карты
```
Пример входных данных (int)
1523523680955570
```
- Возвращает первые 6 и последние 4 цифры. Остальные скрывает под "*"
```
Пример возвращаемых данных (str)
1523 52** **** 5570
```
### get_mask_account (masks.py)
- Маскирует номер счёта
- Принимает 20-ти значный номер счёта
```
Пример входных данных (int)
74415234582962356289
```
- Возвращает последние 4 цифры счёта и перед ними 2 знака "*"
```
Пример возвращаемых данных (str)
**6289
```
### mask_account_card (widget.py)
- Маскирует строку с номером карты или счёта
- Принимает строку с типом и номером карты или счёта
```
Пример входных данных (str)
Visa Platinum 7000792289606361
Счет 73654108430135874305
```
- Возвращает строку с замаскированным номером
```
Пример возвращаемых данных (str)
Visa Platinum 7000 79** **** 6361
Счет **4305
```
### get_date (widget.py)
- Меняет форматирование у строки с датой на вид "ДД.ММ.ГГГГ"
- Принимает строку с датой
```
Пример входных данных (str)
"2024-03-11T02:26:18.671407"
```
- Возвращает отформатированную строку с датой
```
Пример возвращаемых данных (str)
"11.03.2024"
```
### filter_by_state (processing)
- Фильтрует список словарей по значению ключа "state".
- Принимает список словарей. Опционально может принимать строку со значением для ключа "state". Значение "state" по умолчанию - "EXECUTED" 
```
Пример входных данных (list[dict])
[
    {'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'},
    {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'},
    {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'},
    {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}
]
```
- Возвращает список словарей, содержащий только те словари, у которых ключ "state" соответствует указанному значению
```
Пример возвращаемых данных (list[dict)
выход функции со статусом по умолчанию 'EXECUTED'
[
    {'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, 
    {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}
]

выход функции, если вторым аргументов передано 'CANCELED'
[
    {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, 
    {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}
]
```
### sort_by_date (processing)
- Сортирует список словарей по дате
- Принимает список словарей и необязательный параметр, задающий порядок сортировки (по умолчанию — убывание)
```
Пример входных данных (list[dict])
[
    {'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'},
    {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'},
    {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, 
    'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}
]
```
- Возвращает список словарей, отсортированный по дате (по ключу "date")
```
Пример возвращаемых данных (list[dict)
выход функции (сортировка по убыванию, т. е. сначала самые последние операции)
[
    {'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'},
    {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'},
    {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'},
    {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}
]
```
